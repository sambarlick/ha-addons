name: "Caravan GPS (MQTT)"
description: >-
  Rock-solid GPS tracking for your Caravan. 
  Bridges GPSD to MQTT with persistent entity IDs.
version: "2026.2.1"
slug: "caravan_gps"
init: false
arch:
  - aarch64
  - amd64
  - armv7
services:
  - mqtt:need
options:
  input_type: serial
  # Your specific device path is now the default
  device: "/dev/serial/by-id/usb-u-blox_AG_-_www.u-blox.com_u-blox_7_-_GPS_GNSS_Receiver-if00"
  publish_3d_fix_only: false
  # We handle the critical flags in run.sh, leaving this blank allows user overrides if needed
  gpsd_options: "" 
  debug: false
schema:
  input_type: list(serial|tcp)
  device: str
  baudrate: int?
  publish_3d_fix_only: bool?
  min_n_satellites: int?
  publish_interval: int?
  mqtt_broker: str?
  mqtt_port: int?
  mqtt_username: str?
  mqtt_pw: str?
  gpsd_options: str?
  debug: bool?
ports:
  2947/tcp: 2947
devices:
  - /dev/serial/by-id/usb-u-blox_AG_-_www.u-blox.com_u-blox_7_-_GPS_GNSS_Receiver-if00
  - /dev/pps0
startup: application
